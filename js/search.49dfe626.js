(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"2d3b":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"selenium_id_content"}},[s("div",{staticClass:"container-fluid monarch-container",attrs:{id:"monarch-search-container"}},[e._m(0),s("div",{staticClass:"col-xs-12 col-md-9"},[s("b-pagination",{staticClass:"table-sm table-border-soft mt-2",attrs:{"total-rows":e.numFound,"per-page":e.rowsPerPage,responsive:"true",size:"md"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),s("div",{staticClass:"search-results-rows"},[e.searchResults&&e.searchResults.length>0?s("div",[s("h3",[s("span",{staticClass:"searchTerm"},[e._v(e._s(e.query))]),e._v("  has "),s("span",{staticClass:"searchTerm"},[e._v(e._s(e.numFound))]),e._v(" matches")]),s("b-table",{ref:"results-table",staticClass:"table-sm table-border-soft test-search-results-table",attrs:{fields:e.fields,items:e.rowsProvider,"current-page":e.currentPage,"per-page":e.rowsPerPage,striped:"",responsive:"true",hover:""},scopedSlots:e._u([{key:"label",fn:function(t){return[s("router-link",{attrs:{to:t.item.toLink}},[e._v("\n                  "+e._s(t.item.label)+"\n                ")])]}},{key:"highlight",fn:function(t){return[s("span",{domProps:{innerHTML:e._s(t.item.highlight)}})]}}],null,!1,280307061)})],1):e._e()]),s("monarch-footer")],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"intro"},[s("div",{staticClass:"intro-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 py-2"},[s("p",{staticClass:"intro-text"},[e._v("\n                  Search Results\n                ")])])])])])])}],n=s("a34a"),i=s.n(n),o=s("a74f");function c(e,t,s,r,a,n,i){try{var o=e[n](i),c=o.value}catch(h){return void s(h)}o.done?t(c):Promise.resolve(c).then(r,a)}function h(e){return function(){var t=this,s=arguments;return new Promise(function(r,a){var n=e.apply(t,s);function i(e){c(n,r,a,i,o,"next",e)}function o(e){c(n,r,a,i,o,"throw",e)}i(void 0)})}}var l=25,u={name:"Search",components:{"monarch-footer":s("a794").default},data:function(){return{facets:[],user_facets:{},results:[],highlight:{},searchResults:[],currentPage:1,rowsPerPage:l,numFound:0,numRowsDisplayed:0,selenium_id:"",searching:!0,fields:[{key:"label",label:"Term"},{key:"category",label:"Category"},{key:"taxon",label:"Taxon"},{key:"highlight",label:"Matching String"}]}},watch:{$route:function(e,t){this.searchViaRouteParams(),this.$refs["results-table"].refresh()}},mounted:function(){this.searchViaRouteParams()},methods:{searchViaRouteParams:function(){this.query=this.$route.params.query,this.rowsPerPage=this.$route.params.rows?this.$route.params.rows:l,this.search()},rowsProvider:function(e,t){var s=this;this.search().then(function(e){t(s.searchResults)}).catch(function(e){t([])})},search:function(){var e=h(i.a.mark(function e(){var t,s,r=this;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=(this.currentPage-1)*this.rowsPerPage,e.next=4,o["h"](this.query,t,this.rowsPerPage);case 4:s=e.sent,this.searchResults.length=0,this.searchParams={},this.searchFacets={},this.numFound=s.numFound,s.docs.forEach(function(e,t){var a=s.highlighting[e.id],n={category:e.category[0],taxon:e.taxon_label,label:e.label[0],curie:e.id,rows:r.rows,highlight:a.highlight,toLink:"/"+e.category[0]+"/"+e.id,match:a.match,hasHighlight:a.has_highlight};r.searchResults.push(n)}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log("Search ERROR",e.t0,this);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));function t(){return e.apply(this,arguments)}return t}()}},d=u,f=(s("3de7"),s("2877")),m=Object(f["a"])(d,r,a,!1,null,null,null);t["default"]=m.exports},"3de7":function(e,t,s){"use strict";var r=s("f32b"),a=s.n(r);a.a},f32b:function(e,t,s){}}]);
//# sourceMappingURL=search.49dfe626.js.map